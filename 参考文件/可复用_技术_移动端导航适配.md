# 可复用_技术_移动端导航适配

## 需求描述
应用需要同时兼容 PC 和 移动端 (Phone/Pad)。
*   **PC 端**：使用左侧固定 Sidebar，利用宽屏优势展示更多层级。
*   **手机端**：隐藏 Sidebar，改用底部 BottomNav，方便单手操作。

## 架构设计

### 1. 响应式布局组件 (MainLayout)
通过 CSS Media Query (`md:hidden`) 控制组件的显示与隐藏。

```tsx
// layouts/DashboardLayout.tsx
export default function DashboardLayout() {
    return (
        <div className="flex h-screen bg-gray-50">
            {/* 桌面端侧边栏：手机端隐藏 (hidden md:flex) */}
            <aside className="hidden md:flex w-64 flex-col border-r bg-white">
                <Sidebar />
            </aside>

            {/* 主内容区域 */}
            <main className="flex-1 overflow-auto pb-20 md:pb-0">
                <Outlet />
            </main>

            {/* 移动端底部导航：桌面端隐藏 (md:hidden) */}
            <BottomNav />
        </div>
    );
}
```

### 2. 底部导航组件 (BottomNav)
底部导航通常固定在屏幕底部 (`fixed bottom-0`)。

```tsx
// components/layout/BottomNav.tsx
export default function BottomNav() {
    return (
        <nav className="fixed bottom-0 left-0 right-0 bg-white/90 backdrop-blur border-t md:hidden z-50 pb-safe">
            <div className="flex justify-around items-center h-16">
                <NavLink to="/" icon={Home} label="打卡" />
                <NavLink to="/sync" icon={Refresh} label="同步" />
                <NavLink to="/stats" icon={Chart} label="统计" />
            </div>
        </nav>
    );
}
```
**关键细节**：
1.  **pb-safe**: 使用 Tailwind 的 `pb-safe` (或 CSS `padding-bottom: env(safe-area-inset-bottom)`) 适配 iPhone X 等全面屏刘海/黑条，防止按钮被底部黑条遮挡。
2.  **backdrop-blur**: 增加毛玻璃效果，提升现代感，让背景内容滚动时隐约可见。
3.  **Z-Index**: 确保 `z-50`，防止被页面内容遮挡。

### 3. 页面内容适配
页面内容在移动端需要避免被底部导航遮挡。
在 `DashboardLayout` 的 `<main>` 中添加 `pb-20` (padding-bottom: 5rem)，预留出底部导航的高度。

## 复用建议
这种 "Sidebar to BottomNav" 的切换是目前 Web App 适配移动端最成熟的模式。
如果应用功能复杂，底部只能放4-5个Tab，可以将次要功能放入 "更多" Tab 或者保留在侧边栏（移动端改为“抽屉” Drawer 模式）。
