# 好学伴 - 学习计划与打卡统计助手

## 项目简介

这是一个帮助小学生（1-6年级）养成良好学习习惯的打卡统计平台。家长可以设置学习计划、奖励机制，孩子完成打卡后获得积分和勋章，通过数据可视化追踪学习进度。

## 核心特性

### ✨ 主要功能
1. **学习计划管理** - 按科目分类创建学习任务，支持重复计划
2. **打卡统计** - 实时计时器，记录每次学习时长和完成情况
3. **数据可视化** - 多维度图表展示学习数据，生成PDF学习报告
4. **激励系统** - 勋章墙 + 积分奖励兑换，激发学习动力
5. **成绩追踪** - 记录考试成绩，可视化进步曲线
6. **家长管理** - 独立管理后台，设置奖励、查看数据、管理多个小孩

### 🎯 创新设计
1. **本地优先架构** - 类似Anki，手动同步节省成本
2. **双角色系统** - 一个账号支持家长/小孩模式切换
3. **时间滑块** - 拖拽设置学习时长，更直观
4. **移动端优化** - 响应式设计，支持PWA
5. **长期数据保留** - 支持6年历史数据（整个小学阶段）

## 技术架构

### 前端技术栈
- **框架**: React 18 + TypeScript + Vite
- **UI**: Tailwind CSS + shadcn/ui + Lucide Icons
- **状态管理**: Zustand + React Query
- **本地存储**: Dexie.js (IndexedDB)
- **图表**: Recharts
- **PDF导出**: jsPDF + html2canvas
- **路由**: React Router v6
- **表单**: React Hook Form + Zod

### 后端技术栈
- **运行时**: Node.js + Express
- **数据库**: PostgreSQL
- **ORM**: Prisma
- **认证**: JWT + bcryptjs
- **工具**: express-validator, cors, compression

### 部署方案
- **平台**: Railway (支持PostgreSQL + Node.js一键部署)
- **特性**: 自动CI/CD，环境变量管理

## 数据同步策略

### 本地优先设计（类似Anki）
```
用户操作 → IndexedDB (本地存储)
         ↓
    点击同步按钮
         ↓
    增量数据上传 → 服务器
         ↓
    下载服务器更新 → 本地IndexedDB
         ↓
    显示同步状态
```

### 成本优化
- 离线完全可用
- 减少99.5%数据库操作
- 按需同步，降低Railway费用

## 用户角色设计

### 家长模式（需密码）
- ✅ 查看所有数据（多个小孩）
- ✅ 设置勋章解锁条件
- ✅ 管理奖励池（积分兑换项）
- ✅ 添加/编辑小孩档案
- ✅ 生成学习报告
- ✅ 录入考试成绩

### 小孩模式（自动登录）
- ✅ 查看自己的学习计划
- ✅ 打卡计时
- ✅ 查看统计数据
- ✅ 查看已获得的勋章
- ✅ 兑换奖励
- ❌ 不能修改奖励设置
- ❌ 不能查看其他小孩数据

## 项目结构

```
task-checkin-platform/
├── task/                    # 📋 项目计划文档（你现在在这里）
│   ├── 00-项目总览.md
│   ├── 01-需求详细说明.md
│   ├── 02-技术实现方案.md
│   ├── 03-数据库设计.md
│   ├── 04-开发步骤清单.md
│   └── 05-UI设计规范.md
│
├── client/                  # 前端代码
│   ├── src/
│   │   ├── components/     # UI组件
│   │   ├── pages/          # 页面
│   │   ├── hooks/          # 自定义Hooks
│   │   ├── store/          # 状态管理
│   │   ├── db/             # IndexedDB配置
│   │   ├── api/            # API调用
│   │   ├── utils/          # 工具函数
│   │   └── types/          # TypeScript类型
│   ├── public/
│   ├── package.json
│   └── vite.config.ts
│
├── server/                  # 后端代码
│   ├── src/
│   │   ├── routes/         # API路由
│   │   ├── controllers/    # 业务逻辑
│   │   ├── middleware/     # 中间件
│   │   ├── services/       # 服务层
│   │   └── utils/          # 工具函数
│   ├── prisma/
│   │   └── schema.prisma   # 数据库Schema
│   ├── package.json
│   └── tsconfig.json
│
├── .env.example             # 环境变量示例
├── railway.json             # Railway配置
└── README.md
```

## 开发时间线

### 第一阶段：基础架构 (2天)
- [x] 项目初始化
- [ ] 数据库设计
- [ ] 本地存储设计
- [ ] 基础UI框架

### 第二阶段：核心功能 (6天)
- [ ] 用户系统
- [ ] 计划管理
- [ ] 打卡功能
- [ ] 统计分析

### 第三阶段：同步机制 (3天)
- [ ] 同步API
- [ ] 冲突处理
- [ ] 离线支持

### 第四阶段：激励系统 (2天)
- [ ] 积分计算
- [ ] 勋章系统
- [ ] 奖励管理

### 第五阶段：优化完善 (3天)
- [ ] 成绩追踪
- [ ] PDF导出
- [ ] 移动端优化

### 第六阶段：部署上线 (1天)
- [ ] Railway部署
- [ ] 测试验收

**预计总工期**: 17天

## 核心指标

### 学习统计指标
1. **今日学习时间** - 累计打卡时长
2. **今日任务数量** - 完成/总数
3. **今日完成度** - 百分比
4. **连续打卡天数** - 激励坚持
5. **累计学习时长** - 总里程碑
6. **各科目时间占比** - 饼图
7. **学习时段分布** - 发现最佳时段
8. **完成率趋势** - 折线图

### 创新指标
1. **学习专注度** - 根据打卡频率和时长计算
2. **习惯稳定性** - 每日完成一致性评分
3. **进步速度** - 周/月环比增长
4. **学科均衡度** - 各科目发展是否均衡

## 勋章创意设计

### 坚持系列
- 🔥 初试牛刀 - 连续打卡3天
- 🌟 渐入佳境 - 连续打卡7天
- 💪 持之以恒 - 连续打卡30天
- 👑 学习之王 - 连续打卡100天

### 时长系列
- ⏰ 起步阶段 - 累计学习10小时
- 📚 勤奋好学 - 累计学习50小时
- 🎓 学霸养成 - 累计学习100小时
- 🏆 学神降临 - 累计学习500小时

### 特殊成就
- 🌅 早起鸟 - 早上7点前打卡10次
- 🦉 夜猫子克星 - 晚上9点前完成所有任务
- 📈 进步之星 - 单科成绩提升20分
- 🌈 全科学霸 - 所有科目均衡发展
- 🎯 完美主义 - 连续7天100%完成率

## 奖励模板

### 预设奖励（家长可调整积分）
- 🎮 游戏时间30分钟 (50积分)
- 📱 平板使用1小时 (100积分)
- 🍦 选择喜欢的零食 (30积分)
- 🎁 小礼物一份 (200积分)
- 🎬 看电影一次 (150积分)
- 🎪 周末外出活动 (300积分)
- 💰 零花钱￥10 (100积分)
- 📚 购买喜欢的书 (150积分)

### 家长自定义
- 自由输入奖励名称
- 设置所需积分
- 添加描述（可选）
- 选择图标

## 下一步行动

查看详细文档：
1. `01-需求详细说明.md` - 完整功能清单
2. `02-技术实现方案.md` - 技术细节
3. `03-数据库设计.md` - 数据模型
4. `04-开发步骤清单.md` - 分步实施指南
5. `05-UI设计规范.md` - 界面设计标准

**准备开始开发时，请从 `04-开发步骤清单.md` 开始！**

